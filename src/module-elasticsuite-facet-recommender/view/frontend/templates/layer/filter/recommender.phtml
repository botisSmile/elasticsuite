<?php
/**
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Smile ElasticSuite to newer
 * versions in the future.
 *
 * @category  Smile
 * @package   Smile\ElasticsuiteFacetRecommender
 * @author    Romain Ruaud <romain.ruaud@smile.fr>
 * @copyright 2021 Smile
 * @license   Licensed to Smile-SA. All rights reserved. No warranty, explicit or implicit, provided.
 *            Unauthorized copying of this file, via any medium, is strictly prohibited.
 */
 ?>

<?php
/** @var \Smile\ElasticsuiteFacetRecommender\ViewModel\Navigation\FilterRecommender $viewModel */
$viewModel = $block->getViewModel();
?>
<div id="smile-elasticsuite-filter-recommender" data-bind="scope:'smile-elasticsuite-filter-recommender'">
    <!-- ko template: getTemplate() --><!-- /ko -->
</div>
<script type="text/x-magento-init">
    {
        "#smile-elasticsuite-filter-recommender": {
            "Magento_Ui/js/core/app": {
               "components": {
                    "smile-elasticsuite-filter-recommender": {
                        "component": "smileEsFilterRecommender",
                        "baseUrl":"<?php /* @escapeNotVerified */ echo $viewModel->getBaseUrl(); ?>",
                        "categoryId":"<?php /* @escapeNotVerified */ echo $viewModel->getCategoryId(); ?>",
                        "categoryName":"<?php /* @escapeNotVerified */ echo $viewModel->getCategoryName(); ?>",
                        "cookieConfig":<?php /* @escapeNotVerified */ echo json_encode($viewModel->getCookieConfig()); ?>
                    }
                }
            }
        }
    }
</script>
