<!--
/**
 * Elasticsuite Recommender module configuration
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Smile Searchandising Suite to newer
 * versions in the future.
 *
 * @category  Smile
 * @package   Smile\ElasticsuiteRecommender
 * @author    Richard BAYET <richard.bayet@smile.fr>
 * @copyright 2019 Smile
 * @license   Open Software License ("OSL") v. 3.0
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:module:Magento_Config:etc/system_file.xsd">
    <system>
        <section id="smile_elasticsuite_recommender" translate="label" type="text" sortOrder="1000" showInDefault="1" showInWebsite="1" showInStore="1">
            <label>Recommender</label>
            <tab>smile_elasticsuite</tab>
            <resource>Magento_Backend::smile_elasticsuite_recommender</resource>

            <group id="general" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>General</label>
                <field id="related_position_limit" translate="label" sortOrder="5" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Maximum Number of Products in Related Products List</label>
                    <validate>integer validate-greater-than-zero validate-number-range number-range-1-20</validate>
                </field>
                <field id="related_exclude_composite_products" type="select" translate="label" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Exclude composite (bundle, grouped, configurable) from Related Products List</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                </field>
                <field id="crosssell_position_limit" translate="label" sortOrder="20" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Maximum Number of Products in Cross-Sell Product List</label>
                    <validate>integer validate-greater-than-zero validate-number-range number-range-1-20</validate>
                </field>
                <field id="upsell_position_limit" translate="label" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Maximum Number of Products in Upsell Product List</label>
                    <validate>integer validate-greater-than-zero validate-number-range number-range-1-20</validate>
                </field>
                <field id="upsell_force_higher_price" type="select" translate="label" sortOrder="30" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Force Higher Price for Upsell Products</label>
                    <source_model>Magento\Config\Model\Config\Source\Yesno</source_model>
                    <comment><![CDATA[If set to Yes, will ensure that products automatically recommended based on past tracked events have a higher price than the base product. This has no impact on the manually configured upsell products.]]></comment>
                </field>
            </group>

            <group id="cooccurrence" translate="label" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                <label>Events co-occurrence configuration</label>
                <field id="min_doc_count" translate="label comment" type="text" sortOrder="10" showInDefault="1" showInWebsite="1" showInStore="1">
                    <label>Min doc count</label>
                    <validate>integer</validate>
                    <comment><![CDATA[When gathering co-occurrence of products related events (products also viewed, added to cart, bought), in how many distinct sessions an event must occur at the minimum to be taken into account. Lowering it can be helpful on sites without much events tracking history to avoid a cold start.]]></comment>
                </field>
            </group>
        </section>
    </system>
</config>
